{"ast":null,"code":"import\"./styles.css\";import React,{useState,useRef}from\"react\";import InputContent from\"./components/InputContent\";import Button from\"./components/Button\";import OutputResult from\"./components/OutputResult\";import logo from\"./constants/edicom-logo.png\";import BaseButtons from\"./components/BaseButtons\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[firstContent,setFirstContent]=useState(\"\");const[secondContent,setSecondContent]=useState(\"\");const[fisrtFileName,setFirstFileName]=useState(\"\");const[secondFileName,setSecondFileName]=useState(\"\");const[output,setOutput]=useState(\"\");const firstFileInputRef=useRef(null);const secondFileInputRef=useRef(null);const[action,setAction]=useState(\"encode\");const[activeInput,setActiveInput]=useState(\"1\");// Default focus on first input\nconst getContent=()=>{return activeInput===\"1\"?firstContent:secondContent;};const handleCompare=()=>{if(firstContent===secondContent){setOutput(\"The contents are identical.\");}else{compareContents(\"/diffFormatter/compare\");}};const handleClear=()=>{setFirstContent(\"\");setSecondContent(\"\");setFirstFileName(\"\");setSecondFileName(\"\");setOutput(\"\");if(firstFileInputRef.current){firstFileInputRef.current.value=\"\";}if(secondFileInputRef.current){secondFileInputRef.current.value=\"\";}};const compareContents=async()=>{try{if(firstContent===\"\"||secondContent===\"\"){setOutput(\"Contents cannot be emtpy.\");return;}const response=await fetch(\"http://localhost:8080/diffFormatter/compare\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({firstContent:firstContent,secondContent:secondContent})});if(response.ok){const data=await response.text();setOutput(data);}else{const error=await response.text();setOutput(\"Error occurred while fetching the response. \"+error);}}catch(error){setOutput(`Fetch error: ${error.message}`);}};const handleGlobal=async(action,isAlert)=>{setOutput(\"\");try{if(getContent()===\"\"){if(isAlert){alert('Content cannot be emtpy.');}else{setOutput(\"Content cannot be emtpy.\");}return;}const response=await fetch(\"http://localhost:8080/diffFormatter/\"+action,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:getContent()});if(response.ok){const data=await response.text();if(isAlert){alert(data);}else if(activeInput===\"1\"){setFirstContent(data);}else if(activeInput===\"2\"){setSecondContent(data);}else{setOutput(data);}}else{const error=await response.text();setOutput(\"Error occurred while fetching the response. \"+error);}}catch(error){setOutput(`Fetch error: ${error.message}`);}};const downloadOutput=(filename,content)=>{if(!content.trim()){alert('Output is empty, nothing to download.');return;}const blob=new Blob([content],{type:'text/plain'});const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"title-container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"XML - JSON - EDI Formatter & Comparator\"})})]}),/*#__PURE__*/_jsx(InputContent,{firstContent:firstContent,secondContent:secondContent,firstFileInputRef:firstFileInputRef,secondFileInputRef:secondFileInputRef,setFirstContent:setFirstContent,setSecondContent:setSecondContent,setFirstFileName:setFirstFileName,setSecondFileName:setSecondFileName,setActiveInput:setActiveInput}),/*#__PURE__*/_jsx(BaseButtons,{handleGlobal:handleGlobal}),/*#__PURE__*/_jsx(Button,{handleClear:handleClear,handleCompare:handleCompare,firstContent:firstContent,handleGlobal:handleGlobal}),/*#__PURE__*/_jsx(OutputResult,{output:output,downloadOutput:downloadOutput})]});}","map":{"version":3,"names":["React","useState","useRef","InputContent","Button","OutputResult","logo","BaseButtons","jsx","_jsx","jsxs","_jsxs","App","firstContent","setFirstContent","secondContent","setSecondContent","fisrtFileName","setFirstFileName","secondFileName","setSecondFileName","output","setOutput","firstFileInputRef","secondFileInputRef","action","setAction","activeInput","setActiveInput","getContent","handleCompare","compareContents","handleClear","current","value","response","fetch","method","headers","body","JSON","stringify","ok","data","text","error","message","handleGlobal","isAlert","alert","downloadOutput","filename","content","trim","blob","Blob","type","url","window","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","className","children","src","alt"],"sources":["/home/khweij/Documents/DiffFormatter/DiffFormatterReact/src/App.js"],"sourcesContent":["import \"./styles.css\";\nimport React, { useState, useRef} from \"react\";\nimport InputContent from \"./components/InputContent\";\nimport Button from \"./components/Button\";\nimport OutputResult from \"./components/OutputResult\";\nimport logo from \"./constants/edicom-logo.png\";\nimport BaseButtons from \"./components/BaseButtons\";\n\nexport default function App() {\n  const [firstContent, setFirstContent] = useState(\"\");\n  const [secondContent, setSecondContent] = useState(\"\");\n  const [fisrtFileName, setFirstFileName] = useState(\"\"); \n  const [secondFileName, setSecondFileName] = useState(\"\");\n  const [output, setOutput] = useState(\"\");\n  const firstFileInputRef = useRef(null);\n  const secondFileInputRef = useRef(null);\n  const [action, setAction] = useState(\"encode\");\n  const [activeInput, setActiveInput] = useState(\"1\"); // Default focus on first input\n\n  const getContent = () => {\n    return activeInput === \"1\" ? firstContent : secondContent;\n  };\n\n  const handleCompare = () => {\n    if (firstContent === secondContent) {\n      setOutput(\"The contents are identical.\");\n    } else {\n      compareContents(\"/diffFormatter/compare\");\n    }\n  };\n\n  const handleClear = () => {\n    setFirstContent(\"\");\n    setSecondContent(\"\");\n    setFirstFileName(\"\");\n    setSecondFileName(\"\");\n    setOutput(\"\");\n    if (firstFileInputRef.current) {\n      firstFileInputRef.current.value = \"\";\n    }\n    if (secondFileInputRef.current) {\n      secondFileInputRef.current.value = \"\";\n    }\n  };\n\nconst compareContents = async () => {\n  try{\n    if (firstContent === \"\" || secondContent === \"\"){\n      setOutput(\"Contents cannot be emtpy.\");\n      return;\n    }\n  const response = await fetch(\n    \"http://localhost:8080/diffFormatter/compare\",\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        firstContent: firstContent,\n        secondContent: secondContent,\n      }),\n    }\n  );\n  if (response.ok) {\n    const data = await response.text(); \n    setOutput(data);\n  } else {\n    const error = await response.text(); \n    setOutput(\"Error occurred while fetching the response. \" + error);\n  }\n} catch (error) {\n  setOutput(`Fetch error: ${error.message}`);\n}\n};\n\nconst handleGlobal = async (action, isAlert) => {\n  setOutput(\"\");\n  try {\n    if (getContent() === \"\"){\n      if(isAlert) {\n        alert('Content cannot be emtpy.');\n      } else {\n      setOutput(\"Content cannot be emtpy.\");\n    }\n    return;\n    }\n  const response = await fetch(\n    \"http://localhost:8080/diffFormatter/\" + action,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: getContent()\n    }\n  );\n  if (response.ok) {\n    const data = await response.text(); \n    if(isAlert){\n      alert(data);\n    } else if(activeInput === \"1\"){\n      setFirstContent(data);\n    } else if (activeInput === \"2\"){\n      setSecondContent(data);\n    } else {\n      setOutput(data);\n    }\n  } else {\n    const error = await response.text(); \n    setOutput(\"Error occurred while fetching the response. \" + error);\n  }\n} catch (error) {\n  setOutput(`Fetch error: ${error.message}`);\n}\n};\n\nconst downloadOutput = (filename, content) => {\n  if (!content.trim()) {\n    alert('Output is empty, nothing to download.');\n    return;\n  }\n  const blob = new Blob([content], { type: 'text/plain' });\n  const url = window.URL.createObjectURL(blob);\n\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n\n  document.body.removeChild(link);\n  window.URL.revokeObjectURL(url);\n};\n\n  return (\n    <div className=\"App\">\n    <header className=\"header\">\n      <div className=\"logo-container\">\n        <img src={logo} alt=\"Logo\" className=\"logo\" />\n      </div>\n      <div className=\"title-container\">\n        <h1 className=\"title\">XML - JSON - EDI Formatter & Comparator</h1>\n      </div>\n    </header>\n      <InputContent firstContent={firstContent} secondContent={secondContent} firstFileInputRef={firstFileInputRef} secondFileInputRef={secondFileInputRef} setFirstContent={setFirstContent} \n      setSecondContent={setSecondContent} setFirstFileName={setFirstFileName} setSecondFileName={setSecondFileName} setActiveInput={setActiveInput}/>\n      <BaseButtons handleGlobal={handleGlobal}/>\n      <Button handleClear={handleClear} handleCompare={handleCompare} firstContent={firstContent} handleGlobal={handleGlobal}/>\n      <OutputResult output={output} downloadOutput={downloadOutput}/>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}